
<div class="portlet light borded">
  <div class="portlet-title">
    <div class="caption">
      <i class="icon-settings font-dark"></i>
      <span class="caption-subject font-green-haze bold uppercase">Bula Digital</span>
      <span class="caption-helper"> listagem geral</span>
    </div>
    <div class="actions">
      <div class="input-icon pull-right">
        <i class="icon-magnifier"></i>
        <input type="text" class="form-control input-circle" placeholder="Filtrar...." name="filter"
               [(ngModel)]="filter">
      </div>
    </div>
  </div>
  <div class="portlet-body">
    <div class="col-md-12">

      <div class="row">
        <div class="col-md-12">

          <div class="input-group col-md-6">
            <input type="text" class="form-control" placeholder="Insira o nome do medicamento..." [(ngModel)]="pesquisa" aria-describedby="basic-addon2">
            <div class="input-group-append">
              <button class="btn btn-primary" type="button" (click)="pesquisar()">Pesquisar</button>
            </div>
          </div>

          <div class="dataTables_length float-right">
            <label>Resultados por página:</label>
            <select name="itensPorPagina"
                    class="form-control input-sm input-xsmall input-inline input-circle"
                    [(ngModel)]="itensPorPagina">
              <option value="5">5</option>
              <option value="10">10</option>
              <option value="15">15</option>
              <option value="20">20</option>
              <option value="-1">All</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-sm-12">
        </div>
      </div>
      <div class="dataTables_wrapper no-footer">
        <table class="table table-striped table-hover no-footer" role="grid">
          <thead>
            <tr>
              <th *ngFor="let item of filtroCabecalho()" class="cursor-pointer"
                  (click)="sort(item.label)">
                {{item.nome}}
                <span *ngIf="key === item.label">{{!reverse ? '▲' : '▼'}}</span>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let bula of bulas | sortByPipe: key: reverse | filter:filter | paginate: { itemsPerPage: itensPorPagina, currentPage: p };">
              <th *ngIf="cabecalho[0].exibe">{{bula.nomeProduto}}</th>
              <td *ngIf="cabecalho[1].exibe">{{bula.razaoSocial}}</td>
              <td *ngIf="cabecalho[2].exibe">{{bula.data | date: 'dd/MM/yyyy'}}</td>
              <td *ngIf="cabecalho[3].exibe">
                <a href="https://consultas.anvisa.gov.br/api/consulta/medicamentos/arquivo/bula/parecer/{{bula.idBulaPacienteProtegido}}/?Authorization="
                   class="btn btn-info"><span class="glyphicon glyphicon-save"></span>Download</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
    <div class="row dataTables_paginate paging_bootstrap_number">
      <pagination-controls (pageChange)="p = $event" autoHide="true" previousLabel="Anterior"
                           nextLabel="Próximo"></pagination-controls>
    </div>
  </div>
</div>
